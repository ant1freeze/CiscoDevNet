Задачей было нахождение свича/порта в режиме access, с которого приходит нужный нам мак адрес.
В моей реализации мак адрес задается в файле input_mac и затем проверяется на валидность.
Так как в задаче было условие, что топология может меняться, и неизвестно,знаем ли мы все ip адреса, я сделал конфигурацию файла hosts.yaml с помощью скрипта generate_hosts.py.
Он генерирует hosts.yaml с содержимым такого вида:
---
sw1:
    hostname: 192.168.1.1
    groups:
        - switch
sw2:
    hostname: 192.168.1.2
    groups:
        - switch

